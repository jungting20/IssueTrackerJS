<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="js/functional.js"></script>
    <script src="js/$.js"></script>
</head>
<body>
    <div id="app">
        <div class="page list">
            <button type="button" class="create">
        이슈 생성
            </button>
        </div>
    </div>

<script>
    const tmpl = _ => `
    <div class="page editor">
    <div class="container">
    <div class="header">
        <div class="options">
        <button type="button" class="cancel">취소</button>
        <button type="button" class="save">저장</button>
        </div>
    </div>
        <div class="body">
        <div class="name"><input type="text" class="name"></div>
        <div class="description"><textarea name="description"></textarea></div>
        </div>
    </div>
    </div>
    ;
    `
    $.val = el => el.value;
    
    
    $.addEvent($('.create'),'click',pipe(
            tmpl,
            $.el,
            $.append($('body')),
           /*  $.find('.save'),
            saveBtn => saveBtn.onclick = console.log */
            $.on('click','.options .save', function(e){
                console.log('저장맨',{
                    name : go(e.delegateTarget,$.find('.name input'),$.val),
                    description : go(e.delegateTarget,$.find('.description textarea'),$.val)
                }
                )
                }),//커링해서 이런일이 가능함 ㅋ 이렇게 하는거군
            //function(editorEl){
                //$.find('.save')(editorEl).onclick = console.log;
                /* go(editorEl,
                $.find('.save')).onclick = console.log; */
                //$.on(editorEl,'click','.save', console.log)
                //$.on(editorEl,'click','.option', function(e){
                 //   console.log(e.currentTarget,'이벤트는 여기 달았음');
                  //  console.log(e.target,'target');
               // });
            //}
    )
    );
    //
    
    //$.on(delegateTarget,'click','.save',console.log);//이런 방식으로 해줘야 메모리 릭이 안난다는 뭐
    //..1시간27분
    
        /* pipe(
            tmpl,
            $.el,   원래 onclick function(){~~} 이건데 클릭하면 실행되니까 그냥 저렇게 써주면됨 
            $.append($('body'))
        )(); */
        //함수형 프로그래밍은 이렇게 문장으로 하는걸 안좋아함 
       /* const html = tmpl();
        const element = $.el(html);
        $.append($('body'),element); */
        //$.append($('body'))($.el(tmpl()));
        //console.log(html); //걍 문자열로 나옴
        //console.log(element); // 이게 진짜 html 즉 dom 으로 나옴
        //$('body').appendChild(element);

    /* const els = $.el(`<div class="a"></div><div></div>`);

    //const iter = els[Symbol.iterator](); html콜렉션은 심볼이터가있음 ㅇㅇ; 이게 되는 순간 for of 사용가능
    for (const el of els) {
        console.log(el);
    } */
    
</script>
    
</body>
</html>